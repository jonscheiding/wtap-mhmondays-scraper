version: "3.8"

services:
  wtap-scraper:
    build: .
    container_name: wtap-scraper
    environment:
      # Schedule in cron format (default: daily at 2 AM)
      # Examples:
      #   "0 2 * * *"     - Every day at 2 AM
      #   "0 */6 * * *"   - Every 6 hours
      #   "0 0 * * *"     - Every day at midnight
      SCHEDULE: "0 2 * * *"
      # Data directory where audio files will be stored
      DATA_DIR: /data
      # Audio subdirectory under DATA_DIR
      AUDIO_SUBDIR: mp3
      # RSS feed filename written to DATA_DIR
      RSS_OUTPUT_FILENAME: podcast.xml
      # Public base URL used to build enclosure URLs in the RSS feed
      # Example: https://example.com/podcast
      FEED_BASE_URL: ""
      # Optional feed metadata
      FEED_TITLE: "Mental Health Mondays"
      FEED_AUTHOR: "WTAP"
      FEED_DESCRIPTION: "Audio feed generated from WTAP Mental Health Mondays videos."
      FEED_LANGUAGE: en-us
      FEED_COPYRIGHT: ""
      FEED_IMAGE_URL: ""
      NODE_ENV: production
    volumes:
      # Mount local directory to persist downloaded audio files
      - ./data:/data
    restart: unless-stopped
    # Optional: uncomment for logs
    # logging:
    #   driver: "json-file"
    #   options:
    #     max-size: "10m"
    #     max-file: "3"
